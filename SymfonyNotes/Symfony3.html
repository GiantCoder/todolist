<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.12.3 (455520)"/><meta name="altitude" content="9"/><meta name="author" content="mattjotoole@gmail.com"/><meta name="created" content="2017-09-23 19:33:32 +0000"/><meta name="latitude" content="51.44678510825029"/><meta name="longitude" content="-0.3263336604915184"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-09-24 22:49:19 +0000"/><title>Symfony3</title></head><body><div>Source: <a href="https://knpuniversity.com/tracks/symfony">https://knpuniversity.com/tracks/symfony</a></div><div><br/></div><div><u><b>JOYFUL DEVELOPMENT WITH SYMFONY</b></u></div><div><u><br/></u></div><div><u>#1: Introduction to Symfony</u></div><div><br/></div><div>Symfony is a collection of libraries</div><div>Download the Symfony installer</div><div><font face="Andale Mono">symfony new app_name</font></div><div><br/></div><div><br/></div><div><u>#2: PHPStorm &amp; Git!</u></div><div>Use PHPStorm with Symfony plugin</div><div>Change the setting from app/ to var/</div><div><br/></div><div><u><br/></u></div><div><u>#3: First Page</u></div><div>/src holds all the PHP classes you’ll create</div><div>/app holds everything else (config files)</div><div>2 steps to create a page in any framework - you need a route and a controller</div><div>A route is a configuration that says what the url is</div><div>A controller is a function that builds a page</div><div>Mark directory as a source directory to help with automating namespaces</div><div>Controller actions should have __Action in the function name</div><div><br/></div><div>namespace AppBundle\Controller;</div><div><br/></div><div>use Sensio\Bundle\FrameworkExtraBundle\Configuration\Route;</div><div>use Symfony\Component\HttpFoundation\Response;</div><div><br/></div><div><font face="Andale Mono">class GenusController {</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono"><span>    /**</span><br/></font></div><div><span><font face="Andale Mono"><span>    * @Route(“/genus/“)</span><br/></font></span></div><div><span><span><font face="Andale Mono"><span>    **/</span><br/></font></span></span></div><div><span><span><span><font style="font-family: 'Andale Mono';"><span>    public function showAction()</span><br/></font></span></span></span></div><div><span><span><span><span><font face="Andale Mono"><span>    </span>{</font></span></span></span></span></div><div><span><span><span><span><font face="Andale Mono"><span>    <span>    return new Response(“Under the sea”);</span></span><br/></font></span></span></span></span></div><div><span><span><span><span><font face="Andale Mono"><span>    }</span><br/></font></span></span></span></span></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono">}</font></div><div><br/></div><div><u>A controller action must return a Symfony Response object</u></div><div><u><br/></u></div><div><u><br/></u></div><div><u>#4: Routing Wildcards</u></div><div><span style="font-family: 'Andale Mono';">    /**</span></div><div><span style="font-family: 'Andale Mono';">    * @Route(“/genus/{genusName}“)</span></div><div><span style="font-family: 'Andale Mono';">    **/</span></div><div><span style="font-family: 'Andale Mono';">    public function showAction($genusName)</span></div><div><span style="font-family: 'Andale Mono';"><span>    </span>{</span></div><div><span style="font-family: 'Andale Mono';">    </span><span style="font-family: 'Andale Mono';">    return new Response(“The genus: ” . $genusName);</span></div><div><span style="font-family: 'Andale Mono';">    }</span></div><div><span style="font-family: 'Andale Mono';"><br/></span></div><div><span style="font-family: 'Andale Mono';">php bin/console debug:router </span><font face="Helvetica Neue">&lt;= displays a list of configured routes</font></div><div><span style="font-family: 'Andale Mono';"><br/></span></div><div><font face="Helvetica Neue"><u><br/></u></font></div><div><font face="Helvetica Neue"><u>#5: Intro to Services</u></font></div><div><font face="Helvetica Neue">Services are just useful objects.</font></div><div><span style="font-family: 'Andale Mono';"><br/></span></div><div><font face="Helvetica Neue">A container is just a big associative array of service objects, although a container is actually an object too.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">In order to access the service container, you need your controller to extend the base controller:</font></div><div><br/></div><div><font face="Andale Mono">use Symfony\Bundle\FrameworkBundle\Controller\Controller;<br/></font></div><div><font face="Helvetica Neue"><br/></font></div><div><span style="font-family: 'Andale Mono';">class GenusController extends Controller</span></div><div><font face="Andale Mono">...</font></div><div><font face="Andale Mono"><br/></font></div><div><font style="font-family: 'Andale Mono';">$templating = $this-&gt;container-&gt;get(‘templating’);</font></div><div><font face="Andale Mono">$html = $templating-&gt;render(‘genus/show.html.twig’, [</font></div><div><font face="Andale Mono"><span>    ‘name’ =&gt; $genusName,</span></font></div><div><font face="Andale Mono"><span><span>    ‘surname’ =&gt; ‘O’Toole'</span><br/></span></font></div><div><font face="Andale Mono">]);</font></div><div><font face="Andale Mono"><br/></font></div><div><span style="font-family: 'Andale Mono';"><span>    </span>return new Response($html);</span></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">Exclude the var/cache directory - as this can affect auto completion in PHPStorm!</font></div><div><span style="font-family: 'Andale Mono';"><br/></span></div><div><font face="Helvetica Neue">Twig templates:</font></div><div><font face="Andale Mono">{{ }}</font><font face="Helvetica Neue"> &lt;= use this to print variables in the page</font></div><div><font face="Andale Mono"><br/></font></div><div><u><font face="Helvetica Neue"><br/></font></u></div><div><u><font face="Helvetica Neue">#6: Listing and Using Services</font></u></div><div><font face="Helvetica Neue">The previous code can be replaced with:</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono">return this-&gt;render(‘genus/show.html.twig’, ...</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Helvetica Neue">Hold Command over a method to be taken into the depths of Symfony’s core code.</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono">php bin/console debug:container </font><font face="Helvetica Neue">&lt;= list available services</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono">php bin/console debug:container log</font><font face="Helvetica Neue"> &lt;= pass an argument to filter the response</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Helvetica Neue"><u><br/></u></font></div><div><font face="Helvetica Neue"><u>#7: Twig templates</u></font></div><div><font face="Andale Mono"><br/></font></div><div><a href="http://twig.sensiolabs.org"><font face="Helvetica Neue">twig.sensiolabs.org</font></a></div><div><br/></div><div>Two syntaxes:</div><div><font face="Andale Mono">{{ }}</font> &lt;= say something</div><div><font face="Andale Mono">{% %}</font> &lt;= do something</div><div><br/></div><div><font face="Andale Mono">|</font> &lt;= use pipes as filters</div><div><br/></div><div><font face="Andale Mono">{{ dump() }}</font> &lt;= use this in a Twig template to print out details of every available variable</div><div><br/></div><div>{% for note in notes %}</div><div>. . .</div><div>{% endfor %}</div><div><br/></div><div><br/></div><div><u>#8: Twig Layouts and Inheritance</u></div><div><br/></div><div><font face="Andale Mono">{% extends ‘base.html.twig' %}</font></div><div><br/></div><div>All templates live in app/resources/views</div><div><br/></div><div>You need to override blocks, otherwise you’ll get an error.</div><div><br/></div><div><font face="Andale Mono">{% block body %}</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono">{% endblock %}</font></div><div><br/></div><div>The names of the blocks are not important at all.</div><div><br/></div><div>Web debug toolbar should now appear.</div><div><br/></div><div><br/></div><div><u> #9 Loading CSS/JS Assets:</u></div><div><br/></div><div>Assets are held in the /web directory</div><div><br/></div><div>/web is the document root (i.e. publicly accessible). Paths for links and src for CSS/JS are therefore relative to the /web directory.</div><div><br/></div><div><font face="Andale Mono">(% block stylesheets %}</font></div><div><font face="Andale Mono">{% block javascript %}</font></div><div><br/></div><div>Using these blocks isn’t necessary, but allows you to add page-specific CSS and JS later.</div><div><br/></div><div>Note use of <font face="Andale Mono">asset(‘vendor/…’)</font><font face="Helvetica Neue">in base.html.twig. This helps if you deploy to a CDN in production.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><br/></font></div><div><u><font face="Helvetica Neue">#10: Route generation &amp; JSON responses</font></u></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono">use Symfony\Bundle\FrameworkExtraBundle\Configuration\Method;</font></div><div><font face="Andale Mono"><br/></font></div><div><span style="font-family: 'Andale Mono';">    /**</span></div><div><span style="font-family: 'Andale Mono';">    * @Route(“/genus/{genusName}/notes“)</span></div><div><font face="Andale Mono">    * @Method(“GET”)</font><br/></div><div><span style="font-family: 'Andale Mono';">    **/</span></div><div><span style="font-family: 'Andale Mono';">    public function getNotesAction()</span></div><div><font face="Andale Mono">    {</font></div><div><font face="Andale Mono">        return new Response(“The genus: ” . $genusName);</font></div><div><font face="Andale Mono">    }</font></div><div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono"><span><span>    </span>    </span><span>$notes </span><span>= [</span></font></div><div><font face="Andale Mono"><span>    <span>    </span>    [<span>    </span></span><span>'id' </span><span>=&gt; </span><span>1</span><span>,</span></font></div><div><font face="Andale Mono"><span><span>    <span>    <span>    <span>    </span></span></span></span>'username' </span><span>=&gt; </span><span>'AquaPelham'</span><span>,</span></font></div><div><font face="Andale Mono"><span><span>    <span>    <span>    <span>    </span></span></span></span>'avatarUri' </span><span>=&gt; </span><span>'/images/ryan.jpeg'</span><span>,</span></font></div><div><font face="Andale Mono"><span><span>    <span>    <span>    <span>    </span></span></span></span>'note' </span><span>=&gt; </span><span>"some text"</span></font></div><div><font face="Andale Mono"><span><span>    <span>    <span>    </span></span></span>]</span><span>,</span></font></div><div><font face="Andale Mono"><span>    <span>    <span>    </span></span></span>.<span> </span>. .</font></div><div><font face="Andale Mono"><span>    <span>    </span></span>];</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono"><span><span>    </span>    </span><span>$data </span><span>= [</span></font></div><div><font face="Andale Mono"><span>    <span>    </span>    </span><span>'notes' </span><span>=&gt; </span><span>$notes</span><span>,</span></font></div><div><font face="Andale Mono"><span>    <span>    </span></span><span>]</span><span>;</span></font></div><div><font face="Andale Mono"><br/></font></div><div><span style="font-family: 'Andale Mono';"><span>    </span>    </span><span style="font-family: 'Andale Mono';">return new </span><span style="font-family: 'Andale Mono';">JsonResponse(</span><span style="font-family: 'Andale Mono';">$data</span><span style="font-family: 'Andale Mono';">)</span><font face="Andale Mono">; </font><font face="Helvetica Neue">&lt;= this calls json_encode and sets the correct response type in the header</font></div><div><span><font face="Andale Mono"><span>    <span> </span></span>}</font></span></div></div><div><span><font face="Andale Mono"><br/></font></span></div><div><font face="Helvetica Neue">Now run:</font></div><div><font face="Andale Mono">php bin/console debug:router</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono"><br/></font></div><div><u><font face="Helvetica Neue">#11: Generating URLs</font></u></div><div><span style="font-family: 'Andale Mono';">    /**</span></div><div><font face="Andale Mono">    * @Route(“/genus/{genusName}/notes“, name=“genus_show_notes”)</font><font face="Helvetica Neue"> &lt;= giving routes a name saves a lot of time later!</font></div><div><span style="font-family: 'Andale Mono';">    * @Method(“GET”)</span></div><div><span style="font-family: 'Andale Mono';">    **/</span></div><div><span style="font-family: 'Andale Mono';"><br/></span></div><div><font face="Helvetica Neue">Usually route names are underscored and lowercase.</font></div><div><span style="font-family: 'Andale Mono';"><br/></span></div><div><font face="Andale Mono">{{ path(‘genus_show_notes’), {‘genusName’: name</font><span style="font-family: 'Andale Mono';">} }} </span><font face="Helvetica Neue">&lt;= passing an associative array is optional and you pass in any wildcards associated with the route</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><u>#11: Using React.JS</u></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">When you override blocks, you override the <i><u>entire</u> </i>block! Use </font><font face="Andale Mono">parent()</font><font face="Helvetica Neue"> to append to blocks.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">Include 3 files to include React.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">Then include your own React JS file.</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono">&lt;script type=“text/babel”&gt;</font></div><div><font face="Andale Mono"><span>    var notesUrl = ‘{{ path(‘genus_show_notes’, {‘genusName’: name}) }}’;</span></font></div><div><font face="Andale Mono"><span><br/></span></font></div><div><font face="Andale Mono"><span><span>    React.render(</span></span></font></div><div><font face="Andale Mono"><span><span>    <span>    &lt;NoteSection url={notesUrl} /&gt;,</span></span></span></font></div><div><font face="Andale Mono"><span><span>    <span>    </span></span>document.getElementById(‘js-notes-wrapper’);</span><br/></font></div><div><font face="Andale Mono"><span>    );</span><br/></font></div><div><font face="Andale Mono"><span><br/></span></font></div><div><font face="Andale Mono">&lt;/script&gt;</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><b><u>SYMFONY FUNDAMENTALS - BUNDLES, CONFIG &amp; ENVIRONMENTS</u></b></font></div><div><font face="Helvetica Neue"><b><u><br/></u></b></font></div><div><font face="Helvetica Neue"><u>#1: Bundles</u></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Andale Mono">./bin/console server:run</font></div><div><span style="font-family: 'Andale Mono';">./bin/console debug:container</span></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">Bundles provide these services</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">App kernel.php is the heart of an application, but really just initialises all the required bundles.</font><br/></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">A bundle is basically a Symfony plugin and its main job is to provide services to your container.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">A bundle is just a directory full of PHP classes, configuration and other stuff.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">You can search for existing services in your container:</font></div><div><span style="font-family: 'Andale Mono';">./bin/console debug:container markdown</span></div><div><span style="font-family: 'Andale Mono';"><br/></span></div><div><font face="Helvetica Neue">Use composer to install required bundles:</font></div><div><span style="font-family: 'Andale Mono';">composer </span><font face="Andale Mono">require knplabs/knp-markdown-bundle</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Helvetica Neue">You also need to adjust your appkernel.php file in order to register the bundle. (The order of the bundles in that file does not matter).</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><br/></font></div><div><u><font face="Helvetica Neue">#2: Using bundles</font></u></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">Twig will escape html entities. Use</font><font face="Andale Mono"> | raw</font><font face="Helvetica Neue"> if you want to circumvent this.</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono">$this-&gt;get</font><font face="Helvetica Neue"> is the same as </font><font face="Andale Mono">$this-&gt;container-&gt;</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono"><br/></font></div><div><u><font face="Helvetica Neue">#3: Configuring services</font></u></div><div><font face="Andale Mono"><br/></font></div><div><font face="Helvetica Neue">One file controls how you can configure services: app/config/config.yml</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Andale Mono">./bin/console config:dump-reference</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">Displays a map from bundle to extension alias.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><span style="font-family: 'Andale Mono';">./bin/console config:dump-reference twig </span><font face="Helvetica Neue">&lt;= will tell you everything you can configure under the Twig key</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">All configuration in that file is validated by Symfony.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><u>#4: Adding a Cache Service</u></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">If you see the word ‘prototype’ in a comment in a config file, it means you can call the service config key anything you want</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><u>#5: Configuring DoctrineCache</u></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><u>#6: Environments</u></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">An environment is a set of configuration</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">You’re always running app.php or a</font><span style="font-family: 'Helvetica Neue';">pp_dev.php</span></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">You can switch to the production environment by changing the url.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><u>#7: config_dev.yml and config_prod.yml</u></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">Symfony loads either one of these files, but they both import config.yml.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">Uncomment firephp in the config_dev.yml file to get extra debugging information in CDT. You’ll need a plugin for firephp.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><u>#8: Caching in the prod env only</u></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">The prod env is configured for speed, so when you make config changes, you need to clear the cache.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Andale Mono">./bin/console cache:clear --env=prod</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Helvetica Neue"><u>#9: Config variables</u></font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono">%locale% </font><font face="Helvetica Neue">is a variable in config files. These are configured under the parameters key in config.yml.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Andale Mono">./bin/console debug:container --parameters</font></div><div><font face="Andale Mono"><br/></font></div><div><font face="Andale Mono"><br/></font></div><div><u><font face="Helvetica Neue">#10: parameters.yml &amp; %kernel.root_dir%</font></u></div><div><br/></div><div><font face="Helvetica Neue">parameters.yml holds machine-specific configuration and is not committed to the repo. parameters.yml.dist is a template of the parameters you need and <i>is</i> committed.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><u>#11 Mastering route config loading</u></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">Where do routes come from?</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">./bin/console debug:router</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">routing.yml is loaded in all environments, but routing_dev.yml is only loads in the dev env.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">In routing.yml, you can do this:</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Andale Mono">app:</font></div><div><font face="Andale Mono"><span>    resource: “@AppBundle/Controller</span>”<br/></font></div><div><span><font face="Andale Mono"><span>    type: annotation</span><br/></font></span></div><div><span><span><font face="Andale Mono"><br/></font></span></span></div><div><span><span><font face="Andale Mono">homepage:</font></span></span></div><div><span><span><font face="Andale Mono"><span>    path: /</span><br/></font></span></span></div><div><span><span><span><font face="Andale Mono"><span>    defaults:</span><br/></font></span></span></span></div><div><span><span><span><span><font face="Andale Mono">        _controller: AppBundle:Main:homepage </font><font face="Helvetica Neue">&lt;= this means we will have a controller in AppBundle with a homepage action (AppBundle\Controller\MainController::homepageAction)</font><br/></span></span></span></span></div><div><span><span><span><span><span><span><font face="Andale Mono"><br/></font></span></span></span></span></span></span></div><div><br/></div><div><span><span><span><span><span><span><b><u><font face="Helvetica Neue">SYMFONY DOCTRINE &amp; THE DATABASE</font></u></b></span></span></span></span></span></span></div><div><font face="Helvetica Neue"><span><span><span><span><span><span><br/></span></span></span></span></span></span></font></div><div><font face="Helvetica Neue"><span><span><span><span><span><span><u>#1: Creating an Entity Class</u></span></span></span></span></span></span></font></div><div><font face="Helvetica Neue"><span><span><span><span><span><span><br/></span></span></span></span></span></span></font></div><div><font face="Helvetica Neue"><span><span><span><span><span><span>Symfony doesn’t care if you talk to a db at all!</span></span></span></span></span></span></font></div><div><font face="Helvetica Neue"><span><span><span><span><span><span><br/></span></span></span></span></span></span></font></div><div><font face="Helvetica Neue"><span><span><span><span><span><span>Doctrine is an ORM (Object Relational Mapper). This means that every table will map to an Entity class. When you query a table, Doctrine will give you an object.</span></span></span></span></span></span></font></div><div><font face="Helvetica Neue"><span><span><span><span><span><span>Every property in that class maps to a column in the table.</span></span></span></span></span></span></font></div><div><font face="Helvetica Neue"><span><span><span><span><span><span><br/></span></span></span></span></span></span></font></div><div><font face="Helvetica Neue"><span><span><span><span><span><span>You create a class and Doctrine creates the table. An Entity is just a class Doctrine maps to a table in the db.</span></span></span></span></span></span></font></div><div><font face="Helvetica Neue"><span><span><span><span><span><span><br/></span></span></span></span></span></span></font></div><div><font face="Helvetica Neue"><span><span><span><span><span><span>Every Entity class will have this use statement:</span></span></span></span></span></span></font></div><div><font style="font-family: 'Andale Mono';">use Doctrine\ORM\Mapping as ORM;</font></div><div><br/></div><div><font face="Helvetica Neue">Use CMD + N</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">Annotations describe the table to Doctrine.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">“string” type in Doctrine maps to VARCHAR in SQL.</font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><u>#2: Database config &amp; Automatic table creation</u></font></div><div><br/></div><div><font face="Helvetica Neue">Look in config.yml in the Doctrine section and refer to parameters.yml. Then to create the db:</font></div><div><span style="font-family: 'Andale Mono';">./bin/console doctrine:database:create</span></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue">To create the table(s):</font></div><div><font face="Andale Mono">./bin/console doctrine:schema:update --dump-sql </font><font face="Helvetica Neue">&lt;= this previews the query</font></div><div><font face="Andale Mono">./bin/console doctrine:schema:update --force </font><span style="font-family: 'Helvetica Neue';">&lt;= this executes the query</span></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><u>#3: Inserting new objects</u></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><br/></font></div><div><font face="Helvetica Neue"><br/></font></div></body></html>